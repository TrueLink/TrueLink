(function(){"use strict";var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};"undefined"!=typeof module&&module.exports&&(module.exports=t),t.bitArray={bitSlice:function(n,i,e){return n=t.bitArray._shiftRight(n.slice(i/32),32-(31&i)).slice(1),void 0===e?n:t.bitArray.clamp(n,e-i)},extract:function(t,n,i){var e,r=Math.floor(-n-i&31);return e=-32&(n+i-1^n)?t[n/32|0]<<32-r^t[n/32+1|0]>>>r:t[n/32|0]>>>r,e&(1<<i)-1},concat:function(n,i){if(0===n.length||0===i.length){return n.concat(i)}var s=n[n.length-1],o=t.bitArray.getPartial(s);return 32===o?n.concat(i):t.bitArray._shiftRight(i,o,0|s,n.slice(0,n.length-1))},bitLength:function(n){var e,i=n.length;return 0===i?0:(e=n[i-1],32*(i-1)+t.bitArray.getPartial(e))},clamp:function(n,i){if(32*n.length<i){return n}n=n.slice(0,Math.ceil(i/32));var e=n.length;return i=31&i,e>0&&i&&(n[e-1]=t.bitArray.partial(i,n[e-1]&2147483648>>i-1,1)),n},partial:function(t,n,i){return 32===t?n:(i?0|n:n<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(n,i){if(t.bitArray.bitLength(n)!==t.bitArray.bitLength(i)){return!1}var r,e=0;for(r=0;r<n.length;r++){e|=n[r]^i[r]}return 0===e},_shiftRight:function(n,i,e,r){var s,a,o=0;for(void 0===r&&(r=[]);i>=32;i-=32){r.push(e),e=0}if(0===i){return r.concat(n)}for(s=0;s<n.length;s++){r.push(e|n[s]>>>i),e=n[s]<<32-i}return o=n.length?n[n.length-1]:0,a=t.bitArray.getPartial(o),r.push(t.bitArray.partial(i+a&31,i+a>32?e:r.pop(),1)),r},_xor4:function(t,n){return[t[0]^n[0],t[1]^n[1],t[2]^n[2],t[3]^n[3]]}},t.codec.bytes={fromBits:function(n){var r,s,i=[],e=t.bitArray.bitLength(n);for(r=0;e/8>r;r++){0===(3&r)&&(s=n[r/4]),i.push(s>>>24),s<<=8}return i},toBits:function(n){var e,i=[],r=0;for(e=0;e<n.length;e++){r=r<<8|n[e],3===(3&e)&&(i.push(r),r=0)}return 3&e&&i.push(t.bitArray.partial(8*(3&e),r)),i}},t.codec.utf8String={fromBits:function(n){var r,s,i="",e=t.bitArray.bitLength(n);for(r=0;e/8>r;r++){0===(3&r)&&(s=n[r/4]),i+=String.fromCharCode(s>>>24),s<<=8}return decodeURIComponent(escape(i))},toBits:function(n){n=unescape(encodeURIComponent(n));var e,i=[],r=0;for(e=0;e<n.length;e++){r=r<<8|n.charCodeAt(e),3===(3&e)&&(i.push(r),r=0)}return 3&e&&i.push(t.bitArray.partial(8*(3&e),r)),i}},t.codec.hex={fromBits:function(n){var e,i="";for(e=0;e<n.length;e++){i+=((0|n[e])+0xf00000000000).toString(16).substr(4)}return i.substr(0,t.bitArray.bitLength(n)/4)},toBits:function(n){var i,r,e=[];for(n=n.replace(/\s|0x/g,""),r=n.length,n+="00000000",i=0;i<n.length;i+=8){e.push(0^parseInt(n.substr(i,8),16))}return t.bitArray.clamp(e,4*r)}},t.hash.sha256=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},t.hash.sha256.hash=function(n){return(new t.hash.sha256).update(n).finalize()},t.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(n){"string"==typeof n&&(n=t.codec.utf8String.toBits(n));var i,e=this._buffer=t.bitArray.concat(this._buffer,n),r=this._length,s=this._length=r+t.bitArray.bitLength(n);for(i=512+r&-512;s>=i;i+=512){this._block(e.splice(0,16))}return this},finalize:function(){var n,i=this._buffer,e=this._h;for(i=t.bitArray.concat(i,[t.bitArray.partial(1,1)]),n=i.length+2;15&n;n++){i.push(0)}for(i.push(Math.floor(this._length/4294967296)),i.push(0|this._length);i.length;){this._block(i.splice(0,16))}return this.reset(),e},_init:[],_key:[],_precompute:function(){function e(t){return 4294967296*(t-Math.floor(t))|0}var i,t=0,n=2;t:for(;64>t;n++){for(i=2;n>=i*i;i++){if(n%i===0){continue t}}8>t&&(this._init[t]=e(Math.pow(n,.5))),this._key[t]=e(Math.pow(n,1/3)),t++}},_block:function(t){var n,i,e,r,s=t.slice(0),o=this._h,a=this._key,h=o[0],c=o[1],f=o[2],u=o[3],l=o[4],g=o[5],p=o[6],d=o[7];for(n=0;64>n;n++){16>n?i=s[n]:(e=s[n+1&15],r=s[n+14&15],i=s[15&n]=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+s[15&n]+s[n+9&15]|0),i=i+d+(l>>>6^l>>>11^l>>>25^l<<26^l<<21^l<<7)+(p^l&(g^p))+a[n],d=p,p=g,g=l,l=u+i|0,u=f,f=c,c=h,h=i+(c&f^u&(c^f))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0}o[0]=o[0]+h|0,o[1]=o[1]+c|0,o[2]=o[2]+f|0,o[3]=o[3]+u|0,o[4]=o[4]+l|0,o[5]=o[5]+g|0,o[6]=o[6]+p|0,o[7]=o[7]+d|0}};var n=function(n){return function(i){var e,r;if(i instanceof String||"string"==typeof i){e=t.codec.utf8String.toBits(i)}else{if(i instanceof ArrayBuffer){r=new Uint8Array(i),e=t.codec.bytes.toBits(r)}else{if(!(i instanceof Buffer)){throw Error("invalid input type")}e=t.codec.bytes.toBits(i)}}return t.codec.hex.fromBits(t.hash[n].hash(e))}};return n("sha256")})();